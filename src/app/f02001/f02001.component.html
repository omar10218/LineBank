<div class="line_bank_bankground_color">
  <br>
  <div class="line_bank_card_no_padding">
    <div nz-row>
      <div nz-col nzFlex="1.3">
        <div style="padding:10px"><span class="form-title">案件編號</span><input style="display: block;"
            [(ngModel)]="applno" name="applno">
        </div>
      </div>
      <div nz-col nzFlex="1">
        <div style="padding:10px"><span class="form-title">身分證字號</span><input style="display: block;"
            [(ngModel)]="national_ID" name="national_ID">
        </div>
      </div>
      <div nz-col nzFlex="1">
        <div style="padding:10px"><span class="form-title">客戶ID</span><input style="display: block;"
            [(ngModel)]="cust_ID" name="cust_ID">
        </div>
      </div>
      <div nz-col nzFlex="1">
        <div style="padding:10px"><span class="form-title">客戶姓名</span><input style="display: block;"
            [(ngModel)]="cust_CNAME" name="cust_CNAME">
        </div>
      </div>
      <div nz-col nzFlex="1.8">
        <div style="padding:10px"><span class="form-title">案件狀態</span>
          <mat-select [(ngModel)]="status_DESC_Value" name="status_DESC_Value" (ngModelChange)="changeStatsCode(status_DESC_Value)">
            <mat-option *ngFor="let item of status_DESC" [value]="item.value">
              {{item.viewValue}}
            </mat-option>
          </mat-select>
        </div>
      </div>
      <div nz-col nzFlex="1.8">
        <div style="padding:10px"><span class="form-title"><br></span>
          <mat-select [(ngModel)]="statusDescSecondValue" name="status_DESC_Value" [disabled]="status_DESC_Value !=''?  false : true ">
            <mat-option *ngFor="let item of statusDescSecond" [value]="item.value">
              {{item.viewValue}}
            </mat-option>
          </mat-select>
        </div>
      </div>
      <div nz-col nzFlex="1">
        <div style="padding:10px"><span class="form-title">審核結果</span>
          <mat-select [(ngModel)]="credit_RESULT_Value" name="CREDIT_RESULT_Value">
            <mat-option *ngFor="let item of credit_RESULT" [value]="item.value">
              {{item.viewValue}}
            </mat-option>
          </mat-select>
        </div>
      </div>
      <div nz-col nzFlex="1">
        <div style="padding:10px"><span class="form-title">客群標籤</span>
          <mat-select [(ngModel)]="cust_FLAG_Value" name="cust_FLAG_Value">
            <mat-option *ngFor="let item of cust_FLAG" [value]="item.value">
              {{item.viewValue}}
            </mat-option>
          </mat-select>
        </div>
      </div>
      <div nz-col nzFlex="1">
        <div style="padding:10px"><span class="form-title">風險等級分群</span>
          <mat-select [(ngModel)]="risk_GRADE_Value" name="risk_GRADE_Value">
            <mat-option *ngFor="let item of risk_GRADE" [value]="item.value">
              {{item.viewValue}}
            </mat-option>
          </mat-select>
        </div>
      </div>
      <div nz-col nzFlex="1">
        <div style="padding:10px"><span class="form-title">徵信員員編姓名</span><input style="display: block;"
            [(ngModel)]="l3EMPNO" name="l3EMPNO">
        </div>
      </div>
    </div>
    <div nz-row>
      <div nz-col nzFlex="1">
        <div style="padding:2px"><span class="form-title">進件日期</span>
          <nz-range-picker [(ngModel)]="apply_TIME" name="apply_TIME" (ngModelChange)="dateNull(apply_TIME,'apply_TIME')"></nz-range-picker>
        </div>
      </div>
      <div nz-col nzFlex="1">
        <div style="padding:2px"><span class="form-title">上傳財力日期</span>
          <nz-range-picker [(ngModel)]="proof_DOCUMENT_TIME" name="proof_DOCUMENT_TIME" (ngModelChange)="dateNull(proof_DOCUMENT_TIME,'proof_DOCUMENT_TIME')"></nz-range-picker>
        </div>
      </div>
      <div nz-col nzFlex="1">
        <div style="padding:2px"><span class="form-title">簽約完成日期</span>
          <nz-range-picker [(ngModel)]="sign_UP_TIME" name="sign_UP_TIME" (ngModelChange)="dateNull(sign_UP_TIME,'sign_UP_TIME')"></nz-range-picker>
        </div>
      </div>
      <div nz-col nzFlex="1">
        <div style="padding:2px"><span class="form-title">准駁日期時間</span>
          <nz-range-picker [(ngModel)]="credit_TIME" name="credit_TIME" (ngModelChange)="dateNull(credit_TIME,'credit_TIME')"></nz-range-picker>
        </div>
      </div>
      <div nz-col nzFlex="1">
        <div style="padding:2px"><span class="form-title">產品名稱</span><input style="display: block;"
            [(ngModel)]="product_NAME" name="product_NAME">
        </div>
      </div>
      <div nz-col nzFlex="1">
        <div style="padding:2px"><span class="form-title">專案名稱</span><input style="display: block;"
            [(ngModel)]="project_NAME" name="project_NAME">
        </div>
      </div>
    </div>
    <div style="padding:10px;text-align:center">
      <!-- (click)="add()" -->
      <button nz-button [nzSize]="'large'" nzType="primary" (click)="select()">查詢資料</button>&nbsp;
      <button nz-button [nzSize]="'large'" nzType="primary" (click)="Clear()">清除資料</button>&nbsp;
      <!-- <button nz-button [nzSize]="'large'" nzType="primary" (click)="test()" >離開</button>&nbsp; -->
    </div>
    <!-- 表格 -->
  </div>
  <div class="line_bank_card_no_padding">
    <div class="line_bank_form_header_title">案件查詢資料結果:(案件數:{{quantity}}件)</div>
    <nz-table nzShowSizeChanger [nzData]="resultData" [nzFrontPagination]="false" [nzSimple]="true"
      [nzScroll]="{ x: '3800px', y: '400px' }" [nzLoading]="false" [nzTotal]="total" [nzPageSize]="pageSize"
      [nzPageIndex]="pageIndex" (nzQueryParams)="onQueryParamsChange($event)" >
      <thead >
        <tr>
          <th nzLeft >序號</th>
          <th nzLeft>累進</th>
          <th nzLeft (nzSortOrderChange)="sortChange($event)" [nzSortFn]="true" [nzSortDirections]="sortArry">進件日期時間</th>
          <th nzLeft>客群標籤</th>
          <th nzLeft (nzSortOrderChange)="Serial($event)" [nzSortFn]="true"  [nzSortDirections]="sortArry">案件編號</th>
          <th>身分證字號</th>
          <th>客戶ID</th>
          <th>客戶姓名</th>
          <th>公司名稱</th>
          <th>審核結果</th>
          <th>等級gp</th>
          <th>案件狀態</th>
          <th>系統狀態</th>
          <th>上傳財力日期時間</th>
          <th>准駁日期時間</th>
          <th>簽約日期時間</th>
          <th>產品名稱</th>
          <th>申請金額/額度</th>
          <th>核准金額/額度</th>
          <th>合約金額/額度</th>
          <th>專案名稱</th>
          <th>行銷代碼</th>
          <th>徵信員員編姓名</th>
          <th>授信員員編姓名</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of resultData;let i = index">
           <!--序號-->
          <td nzLeft >{{i+1}}</td>
          <!--累計進件數-->
          <td nzLeft></td>
           <!--進件日期-->
           <td nzLeft>{{ data.APPLY_TIME }}</td>
            <!--客群標籤-->
          <td nzLeft>{{ data.CUST_FLAG }}</td>
            <!--案件編號-->
          <td nzLeft><button nz-button [nzSize]="'middle'" nzType="link" (click)="Detail(data.APPLNO,data.CUST_ID,data.CU_CNAME)">{{
              data.APPLNO }}</button></td>
          <!--身分證字號-->
          <td>{{ data.NATIONAL_ID }}</td>
          <!--客戶id-->
          <td>{{ data.CUST_ID }}</td>
          <!--客戶姓名-->
          <td>{{ data.CU_CNAME }}</td>
          <!--公司名稱-->
          <td>{{ data.CU_CP_NAME }}</td>
          <!--審核結果-->
          <td>{{ data.CREDIT_RESULT }}</td>
           <!--風險等級分群-->
           <td>{{ data.RISK_GRADE }}</td>
            <!--案件狀態-->
          <td>{{ data.STATUS_DESC }}</td>
            <!--系統狀態-->
            <td>{{ data.OP_DESC }}</td>
            <!--上傳財力日期-->
          <td>{{ data.PROOF_DOCUMENT_TIME }}</td>
          <!--准駁日期時間-->
          <td>{{data.CREDIT_TIME}}</td>
          <!--簽約完成日期-->
          <td>{{ data.SIGN_UP_TIME }}</td>
           <!--產品名稱-->
           <td>{{data.PROD_CODE}}</td>
            <!--申請金額/額度-->
          <td>{{data.APPLICATION_AMOUNT != undefined? data_number(data.APPLICATION_AMOUNT):data.APPLICATION_AMOUNT}}</td>
           <!--核准金額/額度-->
           <td>{{data.APPROVE_AMT != undefined? data_number(data.APPROVE_AMT):data.APPROVE_AMT}}</td>
             <!--合約金額/額度-->
          <td></td>
           <!--專案名稱-->
           <td>{{data.PRJ_CODE}}</td>
            <!--行銷代碼-->
          <td></td>
          <!--徵信員姓名-->
          <td>{{ data.L3EMPNO }}</td>
          <!--授信員編-->
          <td>{{ data.L2EMPNO }}</td>
        </tr>
      </tbody>
    </nz-table>
  </div>
</div>
