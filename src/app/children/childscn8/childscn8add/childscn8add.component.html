<div class="line_bank_card_no_padding" style="min-height:50vh;width:70vw">
  <div class="line_bank_form_header_title">徵信照會-新增</div>
  <div class="container" style="padding:15px;">
    <form class="mat-dialog-content" #formControl="ngForm">

      <!-- <div nz-row>
        <div nz-col nzSpan="8">
          <div class="form" style="padding:20px">
            <div><span class="form-title-actions">聯絡方式</span>
              <mat-radio-group *ngFor="let code of data.CON_TYPE_Code" fxLayout="column" [(ngModel)]="data.CON_TYPE"
                name="CON_TYPE" required>
                <mat-radio-button [value]="code.value">
                  {{code.viewValue}}
                </mat-radio-button>
                <br>
              </mat-radio-group>
            </div>
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
          </div>
        </div>
        <div nz-col nzSpan="8">
          <div class="form" style="padding:20px">
            <div><span class="form-title-actions">電話狀況</span>
              <mat-radio-group *ngFor="let code of data.TEL_CONDITION_Code" fxLayout="column"
                [(ngModel)]="data.TEL_CONDITION" name="TEL_CONDITION" required>
                <mat-radio-button [value]="code.value">
                  {{code.viewValue}}
                </mat-radio-button>
                <br>
              </mat-radio-group>
            </div>
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
          </div>
        </div>
        <div nz-col nzSpan="8">
          <div class="form" style="padding:20px">
            <div><span class="form-title-actions">電話驗證</span>
              <mat-radio-group *ngFor="let code of data.TEL_CHECK_Code" fxLayout="column" [(ngModel)]="data.TEL_CHECK"
                name="TEL_CHECK" required>
                <mat-radio-button [value]="code.value">
                  {{code.viewValue}}
                </mat-radio-button>
                <br>
              </mat-radio-group>
            </div>
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
          </div>
        </div>
      </div> -->
      <div nz-row>
        <div nz-col nzSpan="8">
          <div class="form">
            <div style="height:110px"><span class="form-title-actions">聯絡方式</span>
              <!-- <nz-radio-group *ngFor="let code of data.CON_TYPE_Code" fxLayout="column" [(ngModel)]="data.CON_TYPE"
                name="CON_TYPE" required>
                <label nz-radio [nzValue]="code.value">{{code.viewValue}}</label>
              </nz-radio-group> -->


              <nz-radio-group [(ngModel)]="data.CON_TYPE" name="CON_TYPE" required>
                <div nz-row>
                  <div nz-col nzSpan="12" *ngFor="let code of CON_TYPE_Code">
                    <div style="width:100%; height:30px">

                      <label nz-radio [nzValue]="code.value">{{code.viewValue}}</label>
                    </div>
                  </div>
                </div>

              </nz-radio-group>


              <!-- <mat-radio-group *ngFor="let code of data.CON_TYPE_Code" fxLayout="column" [(ngModel)]="data.CON_TYPE"
                name="CON_TYPE" required>
                <mat-radio-button [value]="code.value">
                  {{code.viewValue}}
                </mat-radio-button>
                <br>
              </mat-radio-group> -->
            </div>
            <mat-error *ngIf="formControl.invalid && (data.CON_TYPE=='' || data.CON_TYPE== null) ">{{getErrorMessage()}}</mat-error>
          </div>
        </div>

        <div nz-col nzSpan="8">
          <div class="form">
            <div><span class="form-title-actions">電話驗證</span>
              <!-- <nz-radio-group *ngFor="let code of data.TEL_CHECK_Code" fxLayout="column" [(ngModel)]="data.TEL_CHECK"
                name="TEL_CHECK" required>
                <label nz-radio [nzValue]="code.value">{{code.viewValue}}</label>
              </nz-radio-group> -->


              <nz-radio-group [(ngModel)]="data.TEL_CHECK" name="TEL_CHECK" required>
                <div nz-row>
                  <div nz-col nzSpan="12" *ngFor="let code of TEL_CHECK_Code">
                    <div style="width:100%; height:30px">
                      <label nz-radio [nzValue]="code.value">{{code.viewValue}}</label>
                    </div>
                  </div>
                </div>

              </nz-radio-group>


              <!-- <mat-radio-group *ngFor="let code of data.TEL_CHECK_Code" fxLayout="column" [(ngModel)]="data.TEL_CHECK"
                name="TEL_CHECK" required>
                <mat-radio-button [value]="code.value">
                  {{code.viewValue}}
                </mat-radio-button>
                <br>
              </mat-radio-group> -->
            </div>
            <mat-error *ngIf="formControl.invalid && (data.TEL_CHECK=='' || data.TEL_CHECK== null) ">{{getErrorMessage()}}</mat-error>
          </div>
        </div>

        <div nz-col nzSpan="8">
          <div class="form" >
            <div><span class="form-title-actions">電話狀況</span>
              <!-- <nz-radio-group *ngFor="let code of data.TEL_CONDITION_Code" fxLayout="column"
                [(ngModel)]="data.TEL_CONDITION" name="TEL_CONDITION" required>
                <label nz-radio [nzValue]="code.value">{{code.viewValue}}</label>
              </nz-radio-group> -->
              <nz-radio-group [(ngModel)]="data.TEL_CONDITION" name="TEL_CONDITION">
                <div nz-row>
                  <div nz-col nzSpan="12" *ngFor="let code of TEL_CONDITION_Code">
                    <div style="width:100%; height:30px">
                      <label nz-radio  required [nzValue]="code.value">{{code.viewValue}}</label>
                    </div>
                  </div>
                </div>

              </nz-radio-group>
              <!-- <mat-radio-group *ngFor="let code of data.TEL_CONDITION_Code" fxLayout="column"
                [(ngModel)]="data.TEL_CONDITION" name="TEL_CONDITION" required>
                <mat-radio-button [value]="code.value">
                  {{code.viewValue}}
                </mat-radio-button>
                <br>
              </mat-radio-group> -->
            </div>
            <mat-error *ngIf="formControl.invalid && (data.TEL_CONDITION=='' || data.TEL_CONDITION== null) ">{{getErrorMessage()}}</mat-error>
          </div>
        </div>
      </div>

      <div nz-row>
        <div nz-col nzSpan="6">
          <div class="form" >
            <div ><span class="form-title" style="margin:0px;">設定下次照會時間</span>
              <nz-date-picker style="display:block" [(ngModel)]="data.CALLOUT_DATE" name="CALLOUT_DATE" >
              </nz-date-picker>
            </div>
          </div>
        </div>
        <div nz-col nzSpan="6">
          <div class="form" >
            <div><span class="form-title-actions">時</span>
              <mat-select [(ngModel)]="data.HOURS" name="HOURS"
               >
                <mat-option *ngFor="let code of HOURS_Code" [value]="code.value">
                  {{code.viewValue}}
                </mat-option>
              </mat-select>
            </div>
          </div>
        </div>
        <div nz-col nzSpan="6">
          <div class="form" >
            <div><span class="form-title-actions">分</span>
              <mat-select [(ngModel)]="data.MINUTES" name="MINUTES"
               >
                <mat-option *ngFor="let code of MINUTES_Code" [value]="code.value">
                  {{code.viewValue}}
                </mat-option>
              </mat-select>
            </div>
          </div>
        </div>
        <div nz-col nzSpan="6">
          <div class="form" >
            <div><span class="form-title-actions">手機/市話</span>
              <input matInput #input class="form-control" onkeyup="value=value.replace(/[^\d]/g,'') " [(ngModel)]="data.PHONE" name="PHONE" required>
              <mat-error *ngIf="formControl.invalid && (data.PHONE=='' || data.PHONE== null) ">{{getErrorMessage()}}</mat-error>
            </div>
          </div>
        </div>
      </div>

      <div nz-row>
        <div nz-col nzSpan="24">
          <div class="form">
            <div><span class="form-title" style="margin:0px;">備註</span><textarea matInput class="input-textarea" [(ngModel)]="data.CON_MEMO"
                name="CON_MEMO" style="height: 80px;"></textarea>
            </div>
          </div>
        </div>
      </div>

      <div mat-dialog-actions style="text-align: center">
        <button nz-button [nzSize]="'middle'" nzType="primary" [disabled]="!formControl.valid" [mat-dialog-close]="1"
          style="margin:0px 5px" (click)="save()">儲存</button>
        <button nz-button [nzSize]="'middle'"  nzDanger (click)="onNoClick()" tabindex="-1"
          style="margin:0px 5px">取消</button>
      </div>

      <div nz-row>
        <div nz-col nzSpan="24">
          <div *ngFor="let speaking of data.speakingData" style="padding-left: 20px;margin-top: 40px;margin-left: 0px;">
            <button  type="submit" nz-button nzType="primary" style="float:left;margin:2px 2px; color:#ffffff;border-color:#2c86ec;background:#2c86ec"
              (click)="ShowspeakingContenta(speaking.speakingAbbreviation,speaking.speakingContent)">
                {{speaking.speakingAbbreviation}}
            </button>
          </div>
        </div>
      </div>

      <div nz-row>
        <div nz-col nzSpan="24" nz-row *ngIf="data.speakingData!=null && data.speakingData.length>0">
          <div class="form" >
            <div><span class="form-title">話術內容:{{speakingAbbreviation}}</span><textarea readonly matInput
                class="input-textarea" [(ngModel)]="speakingContent" name="speakingContent"
                style="height: 80px;"></textarea>
            </div>
          </div>
        </div>
      </div>

    </form>
  </div>
</div>
